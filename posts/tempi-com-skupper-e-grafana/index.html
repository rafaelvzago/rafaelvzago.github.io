<!doctype html><html lang="pt-BR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="TemPy: An IoT Architecture with Raspberry Pi and Skupper" /><meta property="og:locale" content="pt_BR" /><meta name="description" content="Description" /><meta property="og:description" content="Description" /><link rel="canonical" href="https://rafaelvzago.github.io/posts/tempi-com-skupper-e-grafana/" /><meta property="og:url" content="https://rafaelvzago.github.io/posts/tempi-com-skupper-e-grafana/" /><meta property="og:site_name" content="Rafael Zago" /><meta property="og:image" content="https://rafaelvzago.github.io/assets/img/headers/tempy-com-skupper-e-grafana.webp" /><meta property="og:image:alt" content="TemPy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-02-15T00:00:00-03:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://rafaelvzago.github.io/assets/img/headers/tempy-com-skupper-e-grafana.webp" /><meta name="twitter:image:alt" content="TemPy" /><meta property="twitter:title" content="TemPy: An IoT Architecture with Raspberry Pi and Skupper" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-02-15T00:00:00-03:00","datePublished":"2024-02-15T00:00:00-03:00","description":"Description","headline":"TemPy: An IoT Architecture with Raspberry Pi and Skupper","image":{"alt":"TemPy","url":"https://rafaelvzago.github.io/assets/img/headers/tempy-com-skupper-e-grafana.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rafaelvzago.github.io/posts/tempi-com-skupper-e-grafana/"},"url":"https://rafaelvzago.github.io/posts/tempi-com-skupper-e-grafana/"}</script><title>TemPy: An IoT Architecture with Raspberry Pi and Skupper | Rafael Zago</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Rafael Zago"><meta name="application-name" content="Rafael Zago"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="preconnect" href="https://cdnjs.cloudflare.com" ><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://gravatar.com/userimage/75121319/3dc8bb7e7befedea878842edafcb1335.jpeg?size=256" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Rafael Zago</a></h1><p class="site-subtitle fst-italic mb-0">Meu bloco de notas na interwebs..</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARQUIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>SOBRE</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/rafaevzago" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>TemPy: An IoT Architecture with Raspberry Pi and Skupper</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancelar</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>TemPy: An IoT Architecture with Raspberry Pi and Skupper</h1><div class="post-meta text-muted"> <span> Postado em <time data-ts="1707966000" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 15/02/2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/img/headers/tempy-com-skupper-e-grafana.webp" class="popup img-link preview-img shimmer"><img src="/assets/img/headers/tempy-com-skupper-e-grafana.webp" alt="TemPy" width="1200" height="630" loading="lazy"></a><figcaption class="text-center pt-2 pb-2">TemPy</figcaption></div><div class="d-flex justify-content-between"> <span> Por <em> <a href="https://github.com/rafaelvzago">Rafael Zago</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1682 palavras" > <em>9 min</em> de leitura</span></div></div></header><div class="content"><h2 id="description"><span class="me-2">Description</span><a href="#description" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This project is a proof of concept for an IoT architecture using a Raspberry Pi and a temperature sensor that exposes the temperature data through a REST API. Along with the REST API, there is a cloud integration with any cloud provider using <a href="https://skupper.io/">Skupper</a> that enables the data to be visualized in a Grafana dashboard.</p><blockquote><p>Clone the repository and follow the instructions to run the project. <a href="https://github.com/rafaelvzago/skupper-tempy">https://github.com/rafaelvzago/skupper-tempy</a></p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git clone https://github.com/rafaelvzago/skupper-tempy.git
</pre></table></code></div></div><h2 id="table-of-contents"><span class="me-2">Table of Contents</span><a href="#table-of-contents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="#hardware">Hardware</a><li><a href="#raspberry-configuration">Raspberry Configuration</a><li><a href="#temperature-capture">Temperature Capture</a><li><a href="#skupper-role">Skupper Role</a><li><a href="#connection-to-a-cluster-using-skupper-and-storage-data-into-prometheus">Connection to a cluster using skupper and storage data into prometheus</a><li><a href="#prometheus">Prometheus</a><li><a href="#grafana">Grafana</a><li><a href="#repository">Repository</a></ul><h2 id="architecture"><span class="me-2">Architecture</span><a href="#architecture" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="/assets/tempy-arch.png" class="popup img-link shimmer"><img src="/assets/tempy-arch.png" alt="arch" loading="lazy"></a></p><p>The architecture of the project can be divided into the following parts:</p><h3 id="hardware"><span class="me-2">Hardware</span><a href="#hardware" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This part involves the physical components used in the project, such as the Raspberry Pi and the temperature sensor.</p><ul><li>Raspberry Pi 3 Model B+ <a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/">Raspberry Pi 3 Model B+</a><li>DS18B20 Temperature Sensor <a href="https://www.adafruit.com/product/381">DS18B20 Temperature Sensor</a><li>4.7kΩ Resistor <a href="https://www.adafruit.com/product/2784">4.7kΩ Resistor</a><li>Breadboard <a href="https://www.adafruit.com/product/64">Breadboard</a><li>Jumper Wires <a href="https://www.adafruit.com/product/1956">Jumper Wires</a></ul><h3 id="raspberry-configuration"><span class="me-2">Raspberry Configuration</span><a href="#raspberry-configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This part focuses on the setup and configuration of the Raspberry Pi, including installing the necessary software and libraries.</p><ul><li>Ubuntu 23.04 server for Raspberry Pi <a href="https://ubuntu.com/download/raspberry-pi">Ubuntu Installation</a><li>GoLang 1.18+ <a href="https://golang.org/doc/install">GoLang Installation</a><li>Skupper Main <a href="https://skupper.io/start/install.html">Skupper Installation</a><li>Podman &gt; 4.3 <a href="https://podman.io/getting-started/installation">Podman Installation</a></ul><h3 id="temperature-capture"><span class="me-2">Temperature Capture</span><a href="#temperature-capture" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/tempy-schema.png" class="popup img-link shimmer"><img src="/assets/tempy-schema.png" alt="schema" loading="lazy"></a></p><ul><li>Credits: <a href="https://www.circuitbasics.com/raspberry-pi-ds18b20-temperature-sensor-tutorial/">Raspberry Pi DS18B20 Temperature Sensor Tutorial</a></ul><p>In this part, the temperature sensor is connected to the Raspberry Pi, and the code for capturing temperature readings is implemented.</p><h4 id="configuration"><span class="me-2">Configuration:</span><a href="#configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>Raspberry Pi GPIO Pins:<ul><li>Pin 1 (3.3V) is connected to the VDD pin of the DS18B20.<li>Pin 7 (GPIO 4) is connected to the DQ pin of the DS18B20.<li>Pin 9 (GND) is connected to the GND pin of the DS18B20.</ul><li>DS18B20:<ul><li>The VDD pin is powered by 3.3V from the Raspberry Pi.<li>The DQ pin is connected to GPIO 4 with a pull-up resistor.<li>The GND pin is grounded to the Raspberry Pi.</ul></ul><h4 id="connections"><span class="me-2">Connections:</span><a href="#connections" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>A 4.7kΩ pull-up resistor (R1) is placed between the VDD and DQ lines.<li>The VDD line from the DS18B20 is connected to a red wire representing 3.3V from the Raspberry Pi.<li>The DQ line is connected to a white wire representing data and is connected to GPIO 4 on the Raspberry Pi.<li>The GND line is connected to a black wire representing ground from the Raspberry Pi.</ul><h4 id="functionality"><span class="me-2">Functionality:</span><a href="#functionality" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>The DS18B20 temperature sensor reports temperature data through the 1-Wire interface, which requires only one data line (and ground) for communication with the Raspberry Pi.<li>The pull-up resistor is necessary for the 1-Wire protocol used by the DS18B20 to function correctly.</ul><h4 id="rest-api"><span class="me-2">REST API:</span><a href="#rest-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>To expose the temperature data, a REST API is implemented using GoLang. The API is used to capture the temperature data and expose it to the cloud provider.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>go build tempy/tempy.go
</pre></table></code></div></div><ul><li>Find a way to run the tempy binary on the Raspberry Pi, for this example I will use a simple nohup command to run the tempy binary in the background.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nohup ./tempy &amp;
</pre></table></code></div></div><ul><li>The REST API is exposed on port 5000/temperature, and the temperature data can be accessed using the following command:</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl localhost:5000/temperature
</pre></table></code></div></div><h3 id="skupper-role"><span class="me-2">Skupper Role</span><a href="#skupper-role" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We will use Skupper to establish communication between the Raspberry Pi and the cloud provider, and to expose the temperature data to the cloud. This part covers the setup and configuration of Skupper.</p><p>Skupper is a layer 7 service interconnect that enables secure communication across Kubernetes clusters, including network and application layer protocols. Skupper is designed to connect services that are running on different infrastructure, and it is based on the idea of a service bus. <a href="https://skupper.io/">Skupper</a></p><blockquote><p>In this example we will be using skupper gateway to expose the temperature data to the cloud, for this we will need to have a skupper site running on the cloud and a skupper gateway running on the Raspberry Pi. Skupper gateway is a component that allows non-kubernetes services to be exposed to the skupper network, in this case we will use the skupper gateway to expose the temperature data to the cloud.</p></blockquote><p>Skupper site:</p><ol><li>A namespace running skupper, for this example we will borrow the prometheus service to store the temperature data, so we will init skupper on the cluster with the following command:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>skupper init <span class="nt">--site-name</span> site1 <span class="nt">--enable-console</span> <span class="nt">--enable-flow-collector</span>
</pre></table></code></div></div></ol><p>Skuper gateway on the Raspberry Pi:</p><ul><li>To expose the temperature data to the cloud, we will use a skupper gateway to expose the temperature data to the cloud, for this we will use the following command:</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> skupper gateway expose tempy localhost 5000 <span class="nt">--type</span> podman
</pre></table></code></div></div><h3 id="connection-to-a-cluster-using-skupper-and-storage-data-into-prometheus"><span class="me-2">Connection to a cluster using skupper and storage data into prometheus</span><a href="#connection-to-a-cluster-using-skupper-and-storage-data-into-prometheus" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The temperature data captured by the Raspberry Pi is stored in the cloud using the chosen cloud provider. This part explains how the data is stored and managed.</p><p>For this example, we will deploy a prometheus service to store the temperature data, and a prometheus-adapter to scrape the temperature data from the REST API and store it in the prometheus service. In order to facilitate the prometheus role, we will configure the prometheus service discovery to scrape the temperature data from the prometheus-adapter or any other service labeled as app=metric. with this approach, we can easily add more temperature sensors to the architecture and the prometheus service will automatically scrape the temperature data from the new sensors.</p><p>In order to achive this, the service will be labeled as app=metric, and the prometheus-adapter will add the temperature data to the service, so the prometheus service will scrape the temperature data from the prometheus-adapter.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">tempy-prometheus-adapter-service</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">ClusterIP</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">metrics</span>
</pre></table></code></div></div><h4 id="prometheus-adapter"><span class="me-2">Prometheus Adapter:</span><a href="#prometheus-adapter" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>Build the TemPy prometheus-adapter image:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>podman build <span class="nt">-t</span> quay.io/YOUR-USER/tempy-prometheus-adapter:0.1 <span class="nt">-f</span> prometheus-adapter/Dockerfile-TempyPrometheusAdapter <span class="nb">.</span>
</pre></table></code></div></div><li>Push the image to the quay.io registry:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>podman push quay.io/YOUR-USER/tempy-prometheus-adapter:0.1
</pre></table></code></div></div><li>Deploy the prometheus-adapter:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus-adapter/TempyPrometheusAdapter-deployment.yaml
</pre></table></code></div></div><li>Expose the prometheus-adapter:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus-adapter/TempyPrometheusAdapter-service.yaml
</pre></table></code></div></div><li>Verify the prometheus-adapter is running:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>kubectl run <span class="nt">-i</span> <span class="nt">--tty</span> <span class="nt">--rm</span> curl-pod <span class="nt">--image</span><span class="o">=</span>curlimages/curl <span class="nt">--</span> sh
curl tempy-prometheus-adapter:9090/metrics
...
<span class="c"># TYPE temperature_celsius gauge</span>
temperature_celsius 19.81
<span class="c"># HELP temperature_fahrenheit Current temperature in Fahrenheit</span>
<span class="c"># TYPE temperature_fahrenheit gauge</span>
temperature_fahrenheit 67.66
</pre></table></code></div></div><li>CHeck the prometheus-adapter sservice to check if the labels are being added to the service:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>kubectl get svc tempy-prometheus-adapter-service <span class="nt">-o</span> wide
NAME                               TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>    AGE   SELECTOR
tempy-prometheus-adapter-service   ClusterIP   10.43.154.250   &lt;none&gt;        9090/TCP   11h   <span class="nv">app</span><span class="o">=</span>metrics
</pre></table></code></div></div></ol><h3 id="prometheus"><span class="me-2">Prometheus</span><a href="#prometheus" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The temperature data is stored in a prometheus service. This part covers the setup and configuration of the prometheus service. We need to persist the data, so we will use a PVC, in my case I will use the longhorn storage class, but you can use any storage class that you have available in your cluster.</p><p>This is a part of the prometheus configuration file, it is configured to scrape the temperature data from any service labeled as app=metrics, so the prometheus service will scrape the temperature data from the prometheus-adapter. Note that this configuration will only look for services labeled as app=metrics in the skupper-pi namespace, so if you are using a different namespace, you will need to change the configuration file accordingly.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nn">...</span>
      <span class="pi">-</span> <span class="na">job_name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">metrics-targets'</span>
        <span class="na">scrape_interval</span><span class="pi">:</span> <span class="s">5s</span>
        <span class="na">kubernetes_sd_configs</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">role</span><span class="pi">:</span> <span class="s">service</span>
            <span class="na">namespaces</span><span class="pi">:</span>
              <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">skupper-pi'</span><span class="pi">]</span>
        <span class="na">relabel_configs</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">source_labels</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">__meta_kubernetes_service_label_app</span><span class="pi">]</span>
            <span class="na">regex</span><span class="pi">:</span> <span class="s">metrics</span>
            <span class="na">action</span><span class="pi">:</span> <span class="s">keep</span>
<span class="nn">...</span>
</pre></table></code></div></div><ol><li>Create prometheus PVC:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus/prometheus-pvc.yaml
</pre></table></code></div></div><li>Create prometheus deployment:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus/prometheus-deployment.yaml
</pre></table></code></div></div><li>Configuring the prometheus service discovery to scrape the temperature data from any service labeled as app=metrics:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus/prometheus-cm.yaml
</pre></table></code></div></div><li>Deploy the prometheus:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus/prometheus-deployment.yaml
</pre></table></code></div></div><li>Create prometheus service:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> prometheus/prometheus-service.yaml
</pre></table></code></div></div><li>Verify the prometheus is running, from this point on, the prometheus service should be scraping the temperature data from the prometheus-adapter or any other service labeled as app=metrics, let’s query all the services discovered by prometheus:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre>kubectl run <span class="nt">-i</span> <span class="nt">--tty</span> <span class="nt">--rm</span> curl-pod <span class="nt">--image</span><span class="o">=</span>curlimages/curl <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s1">'curl -G --data-urlencode "query=up" http://prometheus:9090/api/v1/query'</span> | jq <span class="nb">.</span>
If you don<span class="s1">'t see a command prompt, try pressing enter.
warning: couldn'</span>t attach to pod/curl-pod, falling back to streaming logs: Internal error occurred: error attaching to container: container is <span class="k">in </span>CONTAINER_EXITED state
<span class="o">{</span>
  <span class="s2">"status"</span>: <span class="s2">"success"</span>,
  <span class="s2">"data"</span>: <span class="o">{</span>
 <span class="s2">"resultType"</span>: <span class="s2">"vector"</span>,
 <span class="s2">"result"</span>: <span class="o">[</span>
   <span class="o">{</span>
     <span class="s2">"metric"</span>: <span class="o">{</span>
       <span class="s2">"__name__"</span>: <span class="s2">"up"</span>,
       <span class="s2">"instance"</span>: <span class="s2">"localhost:9090"</span>,
       <span class="s2">"job"</span>: <span class="s2">"prometheus"</span>
     <span class="o">}</span>,
     <span class="s2">"value"</span>: <span class="o">[</span>
       1708523706.121,
       <span class="s2">"1"</span>
     <span class="o">]</span>
   <span class="o">}</span>,
   <span class="o">{</span>
     <span class="s2">"metric"</span>: <span class="o">{</span>
       <span class="s2">"__name__"</span>: <span class="s2">"up"</span>,
       <span class="s2">"instance"</span>: <span class="s2">"promock.skupper-pi.svc:80"</span>,
       <span class="s2">"job"</span>: <span class="s2">"metrics-targets"</span>
     <span class="o">}</span>,
     <span class="s2">"value"</span>: <span class="o">[</span>
       1708523706.121,
       <span class="s2">"1"</span>
     <span class="o">]</span>
   <span class="o">}</span>,
   <span class="o">{</span>
     <span class="s2">"metric"</span>: <span class="o">{</span>
       <span class="s2">"__name__"</span>: <span class="s2">"up"</span>,
       <span class="s2">"instance"</span>: <span class="s2">"tempy-prometheus-adapter-service.skupper-pi.svc:9090"</span>,
       <span class="s2">"job"</span>: <span class="s2">"metrics-targets"</span>
     <span class="o">}</span>,
     <span class="s2">"value"</span>: <span class="o">[</span>
       1708523706.121,
       <span class="s2">"1"</span>
     <span class="o">]</span>
   <span class="o">}</span>
 <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
...
</pre></table></code></div></div></ol><h3 id="grafana"><span class="me-2">Grafana</span><a href="#grafana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The stored temperature data is visualized in a Grafana dashboard. This part covers the setup and configuration of the dashboard.</p><ul><li><p>To visualize the temperature data, we will use a Grafana dashboard. The dashboard is configured to scrape the temperature data from the prometheus service and visualize it in a graph. The grafana deployment is done using the following command:</p><li><p>For the data persistence, we will use a PVC to store the grafana data, in my case I have longhorn installed on my cluster, so I will use it to store the grafana data, but you can use any other storage class that you have available on your cluster.</p></ul><ol><li>Create grafana PVC:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> grafana/grafana-pvc.yaml
</pre></table></code></div></div><li>Create grafana deployment:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> grafana/grafana-deployment.yaml
</pre></table></code></div></div><li>Create grafana service:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> grafana/grafana-service.yaml
</pre></table></code></div></div><p>Important: My cluster is configrued to use the ingress controller, so I have to create an ingress to expose the grafana service, if your cluster is not configured to use the ingress controller, you will neeed either to expose the grafana service using a nodeport or a loadbalancer.</p><li>Create a data source connection in grafana that points to the prometheus service:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://skupper-prometheus:9090
</pre></table></code></div></div><li>Import the grafana dashboard:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>grafana/dashboard.json
</pre></table></code></div></div><li>FINALY, you should be able to visualize the temperature data in the grafana dashboard.</ol><p><a href="/assets/grafana-dashboard.png" class="popup img-link shimmer"><img src="/assets/grafana-dashboard.png" alt="grafana" loading="lazy"></a></p><h3 id="repository"><span class="me-2">Repository</span><a href="#repository" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The complete code for the project can be found in the following GitHub repository: <a href="https://github.com/rafaelvzago/skupper-tempy">TemPy</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/skupper/">skupper</a>, <a href="/categories/raspberry/">raspberry</a>, <a href="/categories/grafana/">grafana</a>, <a href="/categories/opensource/">opensource</a>, <a href="/categories/english/">english</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/skupper/" class="post-tag no-text-decoration" >skupper</a> <a href="/tags/raspberry/" class="post-tag no-text-decoration" >raspberry</a> <a href="/tags/grafana/" class="post-tag no-text-decoration" >grafana</a> <a href="/tags/opensource/" class="post-tag no-text-decoration" >opensource</a> <a href="/tags/english/" class="post-tag no-text-decoration" >english</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> Esta postagem está licenciada sob <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> pelo autor.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Compartilhar</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=TemPy:%20An%20IoT%20Architecture%20with%20Raspberry%20Pi%20and%20Skupper%20-%20Rafael%20Zago&url=https%3A%2F%2Frafaelvzago.github.io%2Fposts%2Ftempi-com-skupper-e-grafana%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=TemPy:%20An%20IoT%20Architecture%20with%20Raspberry%20Pi%20and%20Skupper%20-%20Rafael%20Zago&u=https%3A%2F%2Frafaelvzago.github.io%2Fposts%2Ftempi-com-skupper-e-grafana%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Frafaelvzago.github.io%2Fposts%2Ftempi-com-skupper-e-grafana%2F&text=TemPy:%20An%20IoT%20Architecture%20with%20Raspberry%20Pi%20and%20Skupper%20-%20Rafael%20Zago" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copie o link" data-title-succeed="Link copiado com sucesso!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Atualizados recentemente</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/RTL-Linux/">Real-Time Linux: Uma Jornada de Baixa Latência</a><li class="text-truncate lh-lg"> <a href="/posts/protocolos-TCP-IP-o-inicio/">TCP/IP O início e a evolução</a><li class="text-truncate lh-lg"> <a href="/posts/running-local-ai-with-instruct-lab/">Running local AI with Instruct Lab and Skupper</a><li class="text-truncate lh-lg"> <a href="/posts/vim-motions/">Vim Motions: Navigating and Editing Code Efficiently</a><li class="text-truncate lh-lg"> <a href="/posts/workshop-skupper-patient-portal/">Workshop: Patient Portal, conectando um banco de dados a um cluster K8S com Skupper</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/redhat/">redhat</a> <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">cloud</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/opensource/">opensource</a> <a class="post-tag btn btn-outline-primary" href="/tags/rafael/">rafael</a> <a class="post-tag btn btn-outline-primary" href="/tags/skupper/">skupper</a> <a class="post-tag btn btn-outline-primary" href="/tags/tecnologia/">tecnologia</a> <a class="post-tag btn btn-outline-primary" href="/tags/zago/">zago</a> <a class="post-tag btn btn-outline-primary" href="/tags/carreira/">carreira</a> <a class="post-tag btn btn-outline-primary" href="/tags/cd/">cd</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Conteúdo</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Leia também</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/carreira-com-softeware-livre/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1701918000" data-df="DD/MM/YYYY" > 07/12/2023 </time><h4 class="pt-0 my-2">Carreira com Software Livre - O que é e como começar?</h4><div class="text-muted"><p> Carreira com Software Livre - O que é e como começar? Introdução Software Livre é um movimento que tem como objetivo promover a liberdade de uso, estudo, modificação e distribuição de software. O...</p></div></div></a></article><article class="col"> <a href="/posts/multicloud-com-skupper/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1664593200" data-df="DD/MM/YYYY" > 01/10/2022 </time><h4 class="pt-0 my-2">Criando uma rede de aplicativos multicloud com Skupper</h4><div class="text-muted"><p> Referências e tecnologias utilizadas: https://skupper.io https://minikube.sigs.k8s.io Repositório com os Códigos Qpid-dispatch ActiveMQ Kubectl Kubernetes MTLS Open-source Sku...</p></div></div></a></article><article class="col"> <a href="/posts/workshop-skupper-patient-portal/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1719889200" data-df="DD/MM/YYYY" > 02/07/2024 </time><h4 class="pt-0 my-2">Workshop: Patient Portal, conectando um banco de dados a um cluster K8S com Skupper</h4><div class="text-muted"><p> Descrição Este workshop tem como objetivo apresentar o Red Hat Service Interconnect, uma solução de integração de aplicações que permite a comunicação entre diferentes sistemas de forma eficiente ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/carreira-com-softeware-livre/" class="btn btn-outline-primary" aria-label="Anterior" ><p>Carreira com Software Livre - O que é e como começar?</p></a> <a href="/posts/AI-com-skupper-para-previnir-fraudes/" class="btn btn-outline-primary" aria-label="Próximo" ><p>Using Skupper and OpenShift AI/ML to Prevent Insurance Fraud</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/rafaelvzago">Rafael Zago</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Exceto onde indicado de outra forma, as postagens do blog neste site são licenciadas sob a Creative Commons Attribution 4.0 International (CC BY 4.0) License pelo autor." >Alguns direitos reservados.</span></p><p>Feito com <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> usando o tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/redhat/">redhat</a> <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">cloud</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/opensource/">opensource</a> <a class="post-tag btn btn-outline-primary" href="/tags/rafael/">rafael</a> <a class="post-tag btn btn-outline-primary" href="/tags/skupper/">skupper</a> <a class="post-tag btn btn-outline-primary" href="/tags/tecnologia/">tecnologia</a> <a class="post-tag btn btn-outline-primary" href="/tags/zago/">zago</a> <a class="post-tag btn btn-outline-primary" href="/tags/carreira/">carreira</a> <a class="post-tag btn btn-outline-primary" href="/tags/cd/">cd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">Uma nova versão do conteúdo está disponível.</p><button type="button" class="btn btn-primary" aria-label="Update"> atualização </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/pt.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/assets/js/dist/app.min.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-9J3YRPN8EN"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-9J3YRPN8EN'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
